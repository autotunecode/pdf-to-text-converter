## 仕様書

このアプリは、PDF ファイルをテキストファイルに変換する機能を提供します。
具体的な仕様は以下の通りです。

1. ユーザは任意の PDF ファイルを選択し、テキストファイルに変換できます。
2. 変換されたテキストファイルは、元の PDF ファイルと同じディレクトリに保存されます。
3. 変換プロセス中にエラーが発生した場合、エラーメッセージが表示されます。
4. このアプリは、PyPDF2 ライブラリを使用して PDF を処理します。

なお、このアプリの詳細な仕様については、main.py を参照してください。

## 関数の説明

### pdf_to_txt

この関数は、指定されたパスの PDF ファイルをテキストファイルに変換します。PDF ファイルは、PyPDF2 ライブラリを使用して処理されます。変換されたテキストは、指定されたパスのテキストファイルに保存されます。

この pdf_to_txt 関数は、指定された PDF ファイル（pdf_path）をテキストファイル（txt_path）に変換するためのものです。具体的な手順は以下の通りです：

1. open(pdf_path, 'rb')：指定された PDF ファイルをバイナリモードで開きます。
2. PyPDF2.PdfReader(pdf_file)：PyPDF2 ライブラリを使用して、PDF ファイルを読み込みます。
3. for page_num in range(len(reader.pages))：PDF の各ページについて繰り返します。
4. page = reader.pages[page_num]：現在のページを取得します。
5. text += page.extract_text()：ページからテキストを抽出し、既存のテキストに追加します。
6. text = re.sub(r'\n+', '\n', text)：連続する改行を 1 つに置換します。
7. text = re.sub(r'\s+', ' ', text)：連続する空白を 1 つに置換します。
8. with open(txt_path, 'w', encoding='utf-8') as txt_file：指定されたテキストファイルを UTF-8 エンコーディングで開きます。
9. txt_file.write(text)：抽出したテキストをテキストファイルに書き込みます。

これにより、PDF ファイルのテキストが抽出され、指定されたテキストファイルに保存されます。

### batch_pdf_to_txt

この関数は、指定されたディレクトリ内のすべての PDF ファイルをテキストファイルに変換します。PDF ファイルは、PyPDF2 ライブラリを使用して処理されます。変換されたテキストファイルは、指定されたディレクトリ内の元の PDF ファイルと同じディレクトリに保存されます。変換プロセス中にエラーが発生した場合、エラーメッセージが表示されます。

この batch_pdf_to_txt 関数は、指定されたディレクトリ（pdf_dir）内のすべての PDF ファイルをテキストファイルに変換します。具体的には、以下の手順を踏む：

1. os.listdir(pdf_dir)を使用して、pdf_dir ディレクトリ内のすべてのファイル名を取得します。
2. 各ファイル名に対して、.pdf で終わるかどうかを確認します。.pdf でない場合はスキップします。
3. .pdf である場合、その PDF ファイルのパスを作成します。
4. その PDF ファイルをテキストファイルに変換します。テキストファイルのパスは、元の PDF ファイル名の拡張子を.txt に変更したものになります。
5. この変換処理は、pdf_to_txt 関数を使用して行います。

したがって、この関数は PDF ディレクトリ内のすべての PDF ファイルをテキストファイルに変換します。
